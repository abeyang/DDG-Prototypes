<!DOCTYPE html>
<html>
<head>
	<!-- https://github.com/bodymovin/bodymovin -->
	<script src="../js/bodymovin.js" type="text/javascript"></script>
	<script src="../../../assets/js/jquery-1.11.2.min.js" type="text/javascript"></script>

	<link rel="stylesheet" type="text/css" href="../main.css">

	<title>DontTrack.Us</title>
</head>

<body>
	<button id="toggle">toggle</button>
	<div id="container">
		<div class="msg-container">
			<div class="message" id="msg1a">
				<strong>We donâ€™t ever, ever track you.</strong>
				<p>So you can browse the web, safely and confidently.</p>
			</div>

			<div class="message" id="msg1b">
				<strong>Google tracks your search history.</strong>
				<p>And knows just about everything that you do online.</p>
			</div>
		</div>
	</div>
</body>

<script>
var animData = {
        container: document.getElementById('container'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: './index.json'
    };
var anim = bodymovin.loadAnimation(animData);;

// start animation onload
$('#msg1b').hide();
anim.addEventListener('DOMLoaded',startAnimation);

// global vars
var showmonster = false;

var frame_startmonster_begin = 67;
var frame_startmonster_loop = 111;
var frame_startmonster_end = 176;

var frame_endmonster_begin = frame_startmonster_end + 1;
var frame_endmonster_end = 215;

var frame_startnormal_begin = 0;
var frame_startnormal_end = frame_startmonster_begin - 1;

var toggle = document.getElementById('toggle');
toggle.onclick = toggleMonster;

function toggleMonster() {
	if (!showmonster) startMonster();
	else endMonster();
}

// start monster
function startMonster() {
	showmonster = true;
	$('#msg1a').fadeOut(300, function() {
		$('#msg1b').delay(1000).fadeIn(300);
	});
	anim.playSegments([frame_startmonster_begin, frame_startmonster_end],true);
	anim.addEventListener('loopComplete',monsterComplete);
}
function monsterComplete() {
	anim.playSegments([frame_startmonster_loop, frame_startmonster_end],true);
}

// end monster
function endMonster() {
	showmonster = false;
	$('#msg1b').fadeOut(300, function() {
		$('#msg1a').delay(1000).fadeIn(300);
	});
    anim.playSegments([frame_endmonster_begin, frame_endmonster_end],true);
	anim.addEventListener('loopComplete',startAnimation);
}

// onload animation
function startAnimation(){
	
	anim.playSegments([frame_startnormal_begin, frame_startnormal_end],true);
}
</script>

</html>
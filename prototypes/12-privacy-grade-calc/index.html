<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>privacygrade / DDG Prototypes</title>
    <meta name="description" content="DuckDuckGo Prototypes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
	<link rel="stylesheet" href="../../assets/css/main.css" charset="utf-8">
    <link rel="stylesheet" href="../../assets/css/bootstrap.min.css" charset="utf-8">

	<!-- JS -->
	<script src="../../assets/js/underscore-min.js"></script>
    <script src="../../assets/js/vue.js"></script>
    <script src="../../assets/js/bootstrap.min.js"></script>
	
    
</head>
<body>

<link rel="stylesheet" href="privacygrade.css" charset="utf-8">


<div class="container">
	<div id="pg">
		<!-- header -->
		<div class="header">
			<div class="row-wrap">
				<div class="row">
					<div class="col">
						Domain Name
					</div>
					<div class="col-9">
						{{ grade }}
					</div>
					<div class="col text-right">
						<span class="btn btn-round text-danger">{{ score }}</span>
					</div>
				</div> <!-- /.row -->
			</div> <!-- /.row-wrap -->
			<div class="progress">
			  <div class="progress-bar bg-danger" role="progressbar" :style="{width: score / worst * 100 + '%'}"></div>
			</div>
		</div> <!-- /.header -->

		<!-- rows -->
		<div v-for="(row, index) in rows">
			<card :row="row" :index="index" :x="x" v-on:update="calculateScore()"></card>
		</div>
		
	</div> <!-- /#pg -->
</div> <!-- /.container -->


<!-- Templates -->
<template id="card">
	<div :id="row.id" :class="{toggle: row.toggle}" class="row-wrap">
		<div class="row">
			<div class="col">
				(icon)
			</div>
			<div class="col-5">
				<strong>{{ row.title }}</strong>
				<div class="subtitle">{{ row.snippet }}</div>
			</div>

			<!-- Options -->
			<div class="col-4">
				<div v-if="index === 0">
					<span @click="x.isencrypted = true; update()"  :class="{'btn-dark': x.isencrypted, 'btn-light': !x.isencrypted}" class="btn">Encrypted</span>
					<span @click="x.isencrypted = false; update()" :class="{'btn-dark': !x.isencrypted, 'btn-light': x.isencrypted}" class="btn">Unencrypted</span>
				</div>
				<div v-else-if="index === 1">
					<input type="range" v-model="x.trackers" min="0" max="20" step="1" :input="update()"> {{x.trackers}}
				</div>
				<div v-else-if="index === 2">
					<span @click="x.major.google = !x.major.google; update()" :class="{'btn-dark': x.major.google, 'btn-light': !x.major.google}" class="btn btn-round">G</span>
					<span @click="x.major.facebook = !x.major.facebook; update()" :class="{'btn-dark': x.major.facebook, 'btn-light': !x.major.facebook}" class="btn btn-round">F</span>
					<span @click="x.major.twitter = !x.major.twitter; update()" :class="{'btn-dark': x.major.twitter, 'btn-light': !x.major.twitter}" class="btn btn-round">T</span>
					<span @click="x.major.amazon = !x.major.amazon; update()" :class="{'btn-dark': x.major.amazon, 'btn-light': !x.major.amazon}" class="btn btn-round">Am</span>
					<span @click="x.major.appnexus = !x.major.appnexus; update()" :class="{'btn-dark': x.major.appnexus, 'btn-light': !x.major.appnexus}" class="btn btn-round">Ap</span>
					<span @click="x.major.oracle = !x.major.oracle; update()" :class="{'btn-dark': x.major.oracle, 'btn-light': !x.major.oracle}" class="btn btn-round">O</span>
				</div>
				<div v-else-if="index === 3">
					<span @click="x.isthismajor = false; update()" :class="{'btn-dark': !x.isthismajor, 'btn-light': x.isthismajor}" class="btn">No</span>
					<span @click="x.isthismajor = true; update()"  :class="{'btn-dark': x.isthismajor, 'btn-light': !x.isthismajor}" class="btn">Yes</span>
				</div>
				<div v-else-if="index === 4">
					<input type="range" v-model="x.percent" min="0" max="100" step="1" :input="update()"> {{x.percent}}%
				</div>
				<div v-else>
					(More options...)
				</div>
			</div>
			
			<div class="col text-right">
				<span v-if="row.points == 0">
					<span class="btn btn-round btn-success">{{ row.points }}</span>
				</span>
				<span v-else>
					<span class="btn btn-round btn-danger">{{ row.points }}</span>
				</span>
			</div>
		</div> <!-- /.row -->
		<div class="row desc" v-show="row.toggle">
			<div class="col">
				&nbsp;
			</div>
			<div class="col-9">
				{{ row.desc }}
			</div>
			<div class="col">
				&nbsp;
			</div>
		</div> <!-- /.row.desc -->
	</div> <!-- /.row-wrap -->
</template>

<script src="./app.js"></script>

</body>
</html>
